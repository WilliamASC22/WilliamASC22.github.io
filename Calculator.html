<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="main.js" defer></script>
    <script src="data.js" defer></script>
    <script src="script.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/addons/p5.sound.min.js" defer></script>
    <link id="theme" rel="stylesheet" type="text/css" href="light-theme.css" />
    <title>Projects</title>
</head>

<body>

    <div class="container">
		<header>
            <p>
                <b>
                    William's Website
                </b>
            </p>
		</header>
		
		<div class="topnav">
			<div><a href="index.html">Home</a></div>
			<div><a href="GitHub.html">GitHub</a></div>
			<div><a href="School.html">School</a></div>
			<div><a href="Hobbies.html">Hobbies</a></div>
			<div><a href="Travel.html">Travel</a></div>
			<div><a href="Projects.html">Projects</a></div>
			<div><a href="Books.html">Books</a></div>
			<div><a href="Art.html">Art</a></div>
			<div><a href="Social_Media.html">Social Media</a></div>
            <div><a href="Calculator.html">Calculator</a></div>
            <div><a href="Stopwatch.html">Stopwatch</a></div>
            <div><a href="Digital_Watch.html">Digital Watch</a></div>
            <div><a href="Analog_Watch.html">Analog Watch</a></div>
		</div>
		
		<div class="bg image19"></div>

        <button id="theme-toggle">Dark Mode</button>
        <script>
            // this one is just to wait for the page to load
            document.addEventListener('DOMContentLoaded', () => {
                const themeStylesheet = document.getElementById('theme');
                const themeToggle = document.getElementById('theme-toggle');
                themeToggle.addEventListener('click', () => {
                    // if it's light -> go dark
                    if (themeStylesheet.href.includes('style.css')) {
                        themeStylesheet.href = 'darkStyle.css';
                        themeToggle.innerText = 'Light Mode';
                    } else {
                        // if it's dark -> go light
                        themeStylesheet.href = 'style.css';
                        themeToggle.innerText = 'Dark Mode';
                    }
                });
            });
        </script>

		<div class="big_div" id="Projects">
			<p class="main_idea">Calculator Project</p>
			<div class="sub_div">
				<div id="ProjectPage">
                    <p>
                    William has many projects that he has created or contributed on, such as a stopwatch and a calculator. 
                    </p>
                
                    <table class="calculator" >
                    <!-- tr is a row of cells in a table. colespan is the distance of the columns.  -->
                    <tr>
                        <td colspan="3"> 
                            <input class="display-box" type="text" id="calculatorResult" onkeypress="return enterKeyPressed(event)" /> 
                        </td>
                
                        <!-- clearScreen() function clears all the values -->
                        <td> 
                        <input type="button" value="C" onclick="clearScreen()" id="calculatorBtn" />                             </td>
                    </tr>
            
                    <tr>
                    <!-- display() function displays the value of clicked button -->
                    <td> <input type="button" value="1" onclick="display('1')" /> </td>                        <td> <input type="button" value="2" onclick="display('2')" /> </td>
                    <td> <input type="button" value="3" onclick="display('3')" /> </td>
            
                    <td> <input type="button" value="/" onclick="display('/')" /> </td>
                    </tr>
                
                    <tr>
                    <td> <input type="button" value="4" onclick="display('4')" /> </td>
                    <td> <input type="button" value="5" onclick="display('5')" /> </td>
                    <td> <input type="button" value="6" onclick="display('6')" /> </td>
                
                    <td> <input type="button" value="*" onclick="display('*')" /> </td>
                    </tr>
            
                    <tr>
                    <td> <input type="button" value="7" onclick="display('7')" /> </td>
                    <td> <input type="button" value="8" onclick="display('8')" /> </td>
                        <td> <input type="button" value="9" onclick="display('9')" /> </td>
            
                    <td> <input type="button" value="+" onclick="display('+')" /> </td>
                    </tr>
            
                    <tr>
                    <td> <input type="button" value="." onclick="display('.')" /> </td>
                    <td> <input type="button" value="0" onclick="display('0')" /> </td>
            
                    <!-- calculate() function evaluates the mathematical expression -->
                    <td> <input type="button" value="=" onclick="calculate()" id="btn" /> </td>
                    <td> <input type="button" value="-" onclick="display('-')" /> </td>
                    </tr>
            
                    </table>
                    <script>
                        let lastSign = null;
                        let lastNumber = null;

                         // This function clears all the values
                        function clearScreen() {
                            document.getElementById("calculatorResult").value = "";
                            lastSign = null;
                            lastNumber = null;
                        }

                        // This function displays the values
                        function display(value) {
                            document.getElementById("calculatorResult").value += value;
                        }

                        // This function evaluates the expression and returns the calculatorResult
                        function calculate() {
                            const result = document.getElementById("calculatorResult");
                            const current = result.value;

                            if (lastSign !== null && lastNumber !== null) {
                                result.value = eval(current + lastSign + lastNumber);
                            } 
                            else {
                                const nextValue = eval(current);
                                result.value = nextValue;
                                const matches = current.match(/([+\-*/])(\d+)$/);
                                if (matches) {
                                    lastSign = matches[1];
                                    lastNumber = matches[2];
                                }
                            }
                        }

                        // This function calculates when the enter key is pressed
                        function enterKeyPressed(event) {
                            if (event.key === 'Enter') {
                                calculate();
                                return false;
                            }
                            return true;
                        }
                    </script>
                    <p>
                        You can use the buttons provided to control the calculator, or use the keys on your computer to type in the arithmetic that you want to calculate and press the enter button.
                    </p>
                </div>
            </div>
        </div>
    
        <div class="bg image20"></div>

		
		<div class="big_div">
			<footer>
				<div>
                    <p>
                        <i>
                            Want to get in touch with William? Email William at <a href="mailto:wbhuiyan@stu.allstarcode.org" class="link">wbhuiyan@stu.allstarcode.org</a>
                        </i>
                    </p>
				</div>
                <div>
					<a href="https://twitter.com/asc_william?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-show-screen-name="false" data-show-count="false">Follow @asc_william</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
				</div>
			</footer>
		</div>

        <button onclick="scrollToTop()" class="button" id="toTop">
            Scroll To Top
        </button>
        <script>
            function scrollToTop() {
                window.scrollTo(30, 0);
            }
        </script>
    </div>
</body>
</html>